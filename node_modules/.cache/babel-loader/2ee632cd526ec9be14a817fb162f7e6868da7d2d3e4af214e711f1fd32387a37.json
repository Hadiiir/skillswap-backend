{"ast":null,"code":"const API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:8000/api\";\nclass ApiService {\n  constructor() {\n    this.baseURL = void 0;\n    this.token = void 0;\n    this.baseURL = API_BASE_URL;\n    this.token = localStorage.getItem(\"token\");\n  }\n  async request(endpoint, options = {}) {\n    const url = `${this.baseURL}${endpoint}`;\n    const headers = {\n      \"Content-Type\": \"application/json\",\n      ...options.headers\n    };\n    if (this.token) {\n      headers.Authorization = `Bearer ${this.token}`;\n    }\n    const response = await fetch(url, {\n      ...options,\n      headers\n    });\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({\n        message: \"Network error\"\n      }));\n      throw new Error(error.message || `HTTP error! status: ${response.status}`);\n    }\n    return response.json();\n  }\n  setToken(token) {\n    this.token = token;\n    if (token) {\n      localStorage.setItem(\"token\", token);\n    } else {\n      localStorage.removeItem(\"token\");\n    }\n  }\n\n  // Auth endpoints\n  async login(credentials) {\n    return this.request(\"/auth/login/\", {\n      method: \"POST\",\n      body: JSON.stringify(credentials)\n    });\n  }\n  async register(userData) {\n    return this.request(\"/auth/register/\", {\n      method: \"POST\",\n      body: JSON.stringify(userData)\n    });\n  }\n  async getProfile() {\n    return this.request(\"/auth/profile/\");\n  }\n  async updateProfile(data) {\n    return this.request(\"/auth/profile/\", {\n      method: \"PATCH\",\n      body: JSON.stringify(data)\n    });\n  }\n\n  // Skills endpoints\n  async getSkills(params) {\n    const queryString = params ? new URLSearchParams(params).toString() : \"\";\n    return this.request(`/skills/${queryString ? `?${queryString}` : \"\"}`);\n  }\n  async getSkill(id) {\n    return this.request(`/skills/${id}/`);\n  }\n  async createSkill(data) {\n    return this.request(\"/skills/\", {\n      method: \"POST\",\n      body: JSON.stringify(data)\n    });\n  }\n  async updateSkill(id, data) {\n    return this.request(`/skills/${id}/`, {\n      method: \"PATCH\",\n      body: JSON.stringify(data)\n    });\n  }\n  async deleteSkill(id) {\n    return this.request(`/skills/${id}/`, {\n      method: \"DELETE\"\n    });\n  }\n  async getCategories() {\n    return this.request(\"/skills/categories/\");\n  }\n\n  // Points endpoints\n  async getPackages() {\n    return this.request(\"/points/packages/\");\n  }\n  async purchasePackage(packageId) {\n    return this.request(\"/points/purchase/\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        package_id: packageId\n      })\n    });\n  }\n  async getTransactions() {\n    return this.request(\"/points/transactions/\");\n  }\n  async createOrder(skillId) {\n    return this.request(\"/points/orders/\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        skill_id: skillId\n      })\n    });\n  }\n  async getOrders() {\n    return this.request(\"/points/orders/\");\n  }\n\n  // Payments endpoints\n  async getPaymentHistory() {\n    return this.request(\"/payments/history/\");\n  }\n  async createPayment(data) {\n    return this.request(\"/payments/\", {\n      method: \"POST\",\n      body: JSON.stringify(data)\n    });\n  }\n}\nconst api = new ApiService();\n\n// Export individual API modules\nexport const authAPI = {\n  login: api.login.bind(api),\n  register: api.register.bind(api),\n  getProfile: api.getProfile.bind(api),\n  updateProfile: api.updateProfile.bind(api)\n};\nexport const skillsAPI = {\n  getSkills: api.getSkills.bind(api),\n  getSkill: api.getSkill.bind(api),\n  createSkill: api.createSkill.bind(api),\n  updateSkill: api.updateSkill.bind(api),\n  deleteSkill: api.deleteSkill.bind(api),\n  getCategories: api.getCategories.bind(api)\n};\nexport const pointsAPI = {\n  getPackages: api.getPackages.bind(api),\n  purchasePackage: api.purchasePackage.bind(api),\n  purchasePoints: api.purchasePackage.bind(api),\n  // Alias\n  getTransactions: api.getTransactions.bind(api),\n  createOrder: api.createOrder.bind(api),\n  getOrders: api.getOrders.bind(api)\n};\nexport const paymentsAPI = {\n  getPaymentHistory: api.getPaymentHistory.bind(api),\n  createPayment: api.createPayment.bind(api)\n};\nexport default api;","map":{"version":3,"names":["API_BASE_URL","process","env","REACT_APP_API_URL","ApiService","constructor","baseURL","token","localStorage","getItem","request","endpoint","options","url","headers","Authorization","response","fetch","ok","error","json","catch","message","Error","status","setToken","setItem","removeItem","login","credentials","method","body","JSON","stringify","register","userData","getProfile","updateProfile","data","getSkills","params","queryString","URLSearchParams","toString","getSkill","id","createSkill","updateSkill","deleteSkill","getCategories","getPackages","purchasePackage","packageId","package_id","getTransactions","createOrder","skillId","skill_id","getOrders","getPaymentHistory","createPayment","api","authAPI","bind","skillsAPI","pointsAPI","purchasePoints","paymentsAPI"],"sources":["/home/hader/skillswap-backend/src/services/api.ts"],"sourcesContent":["const API_BASE_URL = process.env.REACT_APP_API_URL || \"http://localhost:8000/api\"\n\nclass ApiService {\n  private baseURL: string\n  private token: string | null\n\n  constructor() {\n    this.baseURL = API_BASE_URL\n    this.token = localStorage.getItem(\"token\")\n  }\n\n  private async request<T>(endpoint: string, options: RequestInit = {}): Promise<T> {\n    const url = `${this.baseURL}${endpoint}`\n    const headers: HeadersInit = {\n      \"Content-Type\": \"application/json\",\n      ...options.headers,\n    }\n\n    if (this.token) {\n      headers.Authorization = `Bearer ${this.token}`\n    }\n\n    const response = await fetch(url, {\n      ...options,\n      headers,\n    })\n\n    if (!response.ok) {\n      const error = await response.json().catch(() => ({ message: \"Network error\" }))\n      throw new Error(error.message || `HTTP error! status: ${response.status}`)\n    }\n\n    return response.json()\n  }\n\n  setToken(token: string | null) {\n    this.token = token\n    if (token) {\n      localStorage.setItem(\"token\", token)\n    } else {\n      localStorage.removeItem(\"token\")\n    }\n  }\n\n  // Auth endpoints\n  async login(credentials: { email: string; password: string }) {\n    return this.request(\"/auth/login/\", {\n      method: \"POST\",\n      body: JSON.stringify(credentials),\n    })\n  }\n\n  async register(userData: { first_name: string; last_name: string; email: string; password: string }) {\n    return this.request(\"/auth/register/\", {\n      method: \"POST\",\n      body: JSON.stringify(userData),\n    })\n  }\n\n  async getProfile() {\n    return this.request(\"/auth/profile/\")\n  }\n\n  async updateProfile(data: any) {\n    return this.request(\"/auth/profile/\", {\n      method: \"PATCH\",\n      body: JSON.stringify(data),\n    })\n  }\n\n  // Skills endpoints\n  async getSkills(params?: any) {\n    const queryString = params ? new URLSearchParams(params).toString() : \"\"\n    return this.request(`/skills/${queryString ? `?${queryString}` : \"\"}`)\n  }\n\n  async getSkill(id: number) {\n    return this.request(`/skills/${id}/`)\n  }\n\n  async createSkill(data: any) {\n    return this.request(\"/skills/\", {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    })\n  }\n\n  async updateSkill(id: number, data: any) {\n    return this.request(`/skills/${id}/`, {\n      method: \"PATCH\",\n      body: JSON.stringify(data),\n    })\n  }\n\n  async deleteSkill(id: number) {\n    return this.request(`/skills/${id}/`, {\n      method: \"DELETE\",\n    })\n  }\n\n  async getCategories() {\n    return this.request(\"/skills/categories/\")\n  }\n\n  // Points endpoints\n  async getPackages() {\n    return this.request(\"/points/packages/\")\n  }\n\n  async purchasePackage(packageId: number) {\n    return this.request(\"/points/purchase/\", {\n      method: \"POST\",\n      body: JSON.stringify({ package_id: packageId }),\n    })\n  }\n\n  async getTransactions() {\n    return this.request(\"/points/transactions/\")\n  }\n\n  async createOrder(skillId: number) {\n    return this.request(\"/points/orders/\", {\n      method: \"POST\",\n      body: JSON.stringify({ skill_id: skillId }),\n    })\n  }\n\n  async getOrders() {\n    return this.request(\"/points/orders/\")\n  }\n\n  // Payments endpoints\n  async getPaymentHistory() {\n    return this.request(\"/payments/history/\")\n  }\n\n  async createPayment(data: any) {\n    return this.request(\"/payments/\", {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    })\n  }\n}\n\nconst api = new ApiService()\n\n// Export individual API modules\nexport const authAPI = {\n  login: api.login.bind(api),\n  register: api.register.bind(api),\n  getProfile: api.getProfile.bind(api),\n  updateProfile: api.updateProfile.bind(api),\n}\n\nexport const skillsAPI = {\n  getSkills: api.getSkills.bind(api),\n  getSkill: api.getSkill.bind(api),\n  createSkill: api.createSkill.bind(api),\n  updateSkill: api.updateSkill.bind(api),\n  deleteSkill: api.deleteSkill.bind(api),\n  getCategories: api.getCategories.bind(api),\n}\n\nexport const pointsAPI = {\n  getPackages: api.getPackages.bind(api),\n  purchasePackage: api.purchasePackage.bind(api),\n  purchasePoints: api.purchasePackage.bind(api), // Alias\n  getTransactions: api.getTransactions.bind(api),\n  createOrder: api.createOrder.bind(api),\n  getOrders: api.getOrders.bind(api),\n}\n\nexport const paymentsAPI = {\n  getPaymentHistory: api.getPaymentHistory.bind(api),\n  createPayment: api.createPayment.bind(api),\n}\n\nexport default api\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}