#!/bin/bash

echo "๐ง ุชุดุบูู ุฅุตูุงุญ ุงูุฃุฎุทุงุก ุงููุญููุฉ..."

# ุชุดุบูู ุณูุฑูุจุช ุงูุฅุตูุงุญ
python scripts/fix_syntax_errors.py

# ุงูุชุญูู ูู ุงููุชูุฌุฉ
if [ $? -eq 0 ]; then
    echo "โ ุชู ุฅุตูุงุญ ุฌููุน ุงูุฃุฎุทุงุก!"
    
    # ุงุฎุชุจุงุฑ ุณุฑูุน ููุชุฃูุฏ
    echo "๐งช ุงุฎุชุจุงุฑ ุณุฑูุน..."
    python manage.py check --deploy
    
    if [ $? -eq 0 ]; then
        echo "๐ ุงููุดุฑูุน ุฌุงูุฒ ููุชุดุบูู!"
    else
        echo "โ๏ธ  ููุงู ุชุญุฐูุฑุงุชุ ููู ุงููุดุฑูุน ูุนูู"
    fi
else
    echo "โ ูุดู ูู ุฅุตูุงุญ ุจุนุถ ุงูุฃุฎุทุงุก"
    exit 1
fi
